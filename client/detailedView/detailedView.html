<template name="detailedView">
    <div class="detailed-view-viewport">
        <div class="detailed-view-centerer">
            <svg class="detailed-view-link-graph"></svg>
            {{#each posts}}
                {{> detailedViewPost}}
            {{/each}}

            {{#each replies}}
                {{> detailedViewReply}}
            {{/each}}
        </div>

        {{> detailedViewPostList}}
    </div>

    {{#if checkIfModerator}}
    <div class="delete-button-box">
        <button class="button-delete mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect">
            <i class="material-icons">remove</i>
        </button>
    </div>
    {{/if}}
</template>

<template name="detailedViewPost">
    <div class="post" id="post-{{_id}}">
        <div class="postHeader draggable">
            <div class="titleBar draggable"><a class="unDraggable" href="/forum/post/{{_id}}">{{title}}</a></div>
            <button class="closeButton unDraggable"><i class="fa fa-close"></i></button>
        </div>
        <div class="postInfo unDraggable">
            {{#if user}}
                <a href="#"><img class="avatar unDraggable" src="{{avatarURL}}" alt=""></a>
                <a class="username unDraggable" href="#">{{user.username}}</a>
            {{/if}}
            <span class="unDraggable">4 hours ago</span>
        </div>
        {{#if hasContent}}
            <div class="postContent unDraggable">
                {{content}}
            </div>
        {{/if}}
        <div class="postFooter unDraggable">
            <button class="showRepliesButton unDraggable">Show Connecting Posts ({{replyCount}})</button>
            {{#if currentUser}}
                <button class="replyButton unDraggable">Reply</button>
            {{/if}}
            <button class="moreButton unDraggable">More<i class="fa fa-caret-down"></i></button>
        </div>
        <div class="moreDropdownContent unDraggable">
            {{#if editAccess}}
                <a class="editPostButton" href="#">Edit Post</a>
            {{/if}}
            <hr>
            <a class="reportPostButton" href="#">Report</a>
        </div>
        <div class="repliesDropdownContent unDraggable">
            <a class="loadAllButton" href="#">Load All</a>
            <hr>
            <a class="showListButton" href="#">Show List</a>
        </div>
    </div>
</template>

<template name="detailedViewReply">
    <div class="reply" id="reply-{{_id}}">
        <div class="replyHeader draggable">
            <input type="text" class="titleInput draggable" id="titleInput-{{_id}}" placeholder="Title">
            <button class="closeButton unDraggable"><i class="fa fa-close"></i></button>
        </div>
        <textarea class="contentInput unDraggable" id="contentInput-{{_id}}" placeholder="Reply Content"></textarea>
        <div class="replyFooter unDraggable">
            <button class="submitButton unDraggable">Submit</button>
        </div>
    </div>
</template>

<template name="detailedViewPostList">
    <div class="postList">

        <a class="unDraggable">Title</a>
        <a class="username unDraggable">Username</a>
        <span class="unDraggable">Date Posted</span>
        {{#each posts}}
            {{> detailedViewPostListing}}
        {{/each}}
    </div>
</template>

<template name="detailedViewPostListing">
    <div class="postListingDiv unDraggable">
        <a class="unDraggable">{{title}}</a>
        <a class="username unDraggable" href="#">{{user.username}}</a>
        <span class="unDraggable">4 hours ago</span>
    </div>
</template>
