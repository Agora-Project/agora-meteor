<!--
    Agora Forum Software
    Copyright (C) 2018 Gregory Sartucci
    License: AGPL-3.0, Check file LICENSE
-->

<template name="mainDetailedPost">
    <div class="main-detailed-post" id="main-detailed-post-{{_id}}">
        <div class="main-detailed-post-flex">
            {{#if title}}
                <div class="main-detailed-post-title">{{title}}</div>
            {{/if}}
            <button class="main-detailed-post-close-button">X</button>
            <div class="main-detailed-post-info">
                {{#if poster}}
                    <a class="main-detailed-post-avatar" href="/user/{{poster._id}}">
                        {{> avatar user=(poster) size="small" shape="rounded"}}
                    </a>
                    <a class="main-detailed-post-username" href="/user/{{poster._id}}">
                        {{poster.username}}
                    </a>
                {{/if}}
                <span class="main-detailed-post-age">
                    <a href="/forum?post={{_id}}">
                        {{age}}
                    </a>
                </span>
                <div class="main-detailed-post-seen tooltip">
                    {{#if seen}}
                        &#128065;
                        <span class="tooltiptext">Seen</span>
                    {{else}}
                        &#128269;
                        <span class="tooltiptext">Unseen</span>
                    {{/if}}
                </div>
            </div>
            <div class="main-detailed-post-content">
                {{{content}}}
            </div>
            <div class="main-detailed-post-footer">
                {{#if currentUser}}
                    {{#if verifiedUser}}
                        {{#if moderator}}
                            {{> mainDetailedPostDeleteButton}}
                        {{/if}}
                        {{#if hasReportButton}}
                            {{> mainDetailedPostReportButton}}
                        {{/if}}
                        {{#if hasReplyButtons}}
                            {{#if editAccess}}
                                {{> mainDetailedPostEditButton}}
                            {{/if}}
                            {{> mainDetailedPostReplyButton}}
                        {{/if}}
                    {{/if}}
                    {{> mainDetailedPostLoadButton}}
                {{/if}}
            </div>
        </div>
        <i class="main-detailed-post-spinner fa fa-refresh" aria-hidden="true"></i>
    </div>
</template>

<template name="mainDetailedPostLoadButton">
    <button>Load</button>
</template>

<template name="mainDetailedPostReplyButton">
    <button>Reply</button>
</template>

<template name="mainDetailedPostEditButton">
    <button>Edit</button>
</template>

<template name="mainDetailedPostReportButton">
    <button>Report</button>
</template>

<template name="mainDetailedPostDeleteButton">
    <button>Delete</button>
</template>

<template name="mainBasicPost">
    <div class="main-basic-post" id="main-basic-post-{{_id}}">
        <div class="main-basic-post-flex">
            {{#if poster}}
                <div class="main-basic-post-info">
                        <a class="main-basic-post-avatar" href="/user/{{poster._id}}">
                            {{> avatar user=(poster) size="extra-small" shape="rounded"}}
                        </a>
                </div>
            {{/if}}
            {{{preview}}}

            <div class="main-basic-post-seen tooltip">
                {{#if seen}}
                    &#128065;
                    <span class="tooltiptext">Seen</span>
                {{else}}
                    &#128269;
                    <span class="tooltiptext">Unseen</span>
                {{/if}}
            </div>
        </div>
        <i class="main-basic-post-spinner fa fa-refresh" aria-hidden="true"></i>
    </div>
</template>
