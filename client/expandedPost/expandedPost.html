<!--
    Agora Forum Software
    Copyright (C) 2016 Gregory Sartucci
    License: GPL, Check file LICENSE
-->

<template name="expandedPost">
    <a href="/forum/post/{{_id}}?view=forum">Forum</a>
    <div class="expanded-post">
        <h4 class="expanded-post-title">{{title}}</h4>
        <div class="expanded-post-info">
            {{#if user}}
                <a href="/forum/user/{{user._id}}">
                    {{> avatar user=(user) shape="rounded" class="expanded-post-avatar"}}
                </a>
                <a class="expanded-post-username" href="/forum/user/{{user._id}}">{{user.username}}</a>
            {{/if}}
            <span >{{age}}</span>
        </div>
        <p class="expanded-post-content">
            <!--
            This is where the posts content will be added, but that function is
            not performed here, it is carried out in expandedPost.js, in order
            to make the BBCode work properly.
            -->
        </p>

        {{> expandedViewPostList this}}
    </div>
</template>

<template name="expandedPostNotFound">
    <h4 class="expanded-post-not-found">We're sorry! That post ({{_id}}) couldn't be found.</h4>
</template>

<template name="expandedPostLoading">
    <h4 class="expanded-post-loading">Loading...</h4>
</template>

<template name="expandedViewPostList">
    <div class="post-list">

        <a class="undraggable">Title</a>
        <a class="username undraggable">Username</a>
        <span class="undraggable">Date Posted</span>
        {{#each posts}}
            {{> expandedViewPostListing}}
        {{/each}}
    </div>
</template>

<template name="expandedViewPostListing">
    <div class="post-listing-div undraggable">
        <a class="undraggable" href="/forum/post/{{_id}}">{{title}}</a>
        <a class="username undraggable" href="/forum/user/{{user._id}}">{{user.username}}</a>
        <span class="undraggable">4 hours ago</span>
    </div>
</template>
